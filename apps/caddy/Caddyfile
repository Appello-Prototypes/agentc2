{
    # Enable local CA for self-signed certificates
    local_certs
    admin localhost:2019
}

https://catalyst.localhost {
    # Use internal self-signed certificate
    tls internal

    # Logging for development (ERROR = only show errors, no request logs)
    log {
        output stdout
        format console
        level ERROR
    }

    # All traffic routes to agent app (now the primary app)
    # Agent app serves at root without basePath
    handle {
        reverse_proxy localhost:3001 {
            # Disable buffering for SSE streams (real-time chat)
            flush_interval -1
        }
    }
}
