---
title: "Creating Agents"
description: "Create AI agents via the API or UI with model selection, tools, and memory."
section: "agents"
order: 2
primaryKeyword: "create AI agent"
relatedSlugs: ["agents/overview", "agents/configuration", "agents/tools"]
pageType: "how-to"
---

# Creating Agents

Create agents in AgentC2 via the REST API or workspace UI. Agents are stored in PostgreSQL and resolved at runtime, enabling version control, dynamic updates, and multi-tenant isolation.

## Prerequisites

Before creating an agent, ensure you have:

- An AgentC2 account with authentication configured
- An OpenAI or Anthropic API key set in your workspace settings
- (Optional) Tools configured if you want to attach them during creation

<Callout type="info">
    API keys can be configured at the organization level for multi-tenant isolation, or at the
    workspace level. The agent resolver automatically uses the appropriate key based on the request
    context.
</Callout>

## Create via API

Send a `POST` request to `/agent/api/agents` with the agent configuration:

```bash
curl -X POST https://agentc2.ai/agent/api/agents \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Customer Support Agent",
    "slug": "support-agent",
    "description": "Handles customer inquiries and support tickets",
    "instructions": "You are a helpful customer support agent. Be empathetic, clear, and solution-oriented. When you cannot resolve an issue, escalate to human support.",
    "instructionsTemplate": "You are {{agentName}}, a support agent for {{organizationName}}. Current user: {{userName}} ({{userId}}).",
    "modelProvider": "openai",
    "modelName": "gpt-4o",
    "temperature": 0.7,
    "maxTokens": 4096,
    "modelConfig": {
      "toolChoice": "auto",
      "parallelToolCalls": true
    },
    "memoryEnabled": true,
    "memoryConfig": {
      "lastMessages": 20,
      "semanticRecall": {
        "topK": 5,
        "minScore": 0.7
      }
    },
    "maxSteps": 10,
    "tools": ["web-fetch", "submit-support-ticket"],
    "subAgents": [],
    "workflows": [],
    "scorers": ["quality", "safety"],
    "visibility": "PRIVATE",
    "metadata": {
      "category": "support",
      "tags": ["customer-service", "tickets"]
    },
    "isActive": true
  }'
```

### Request fields

All fields in the agent creation request:

| Field                  | Type     | Required | Default        | Description                                                                              |
| ---------------------- | -------- | -------- | -------------- | ---------------------------------------------------------------------------------------- |
| `name`                 | string   | ✅ Yes   | —              | Display name for the agent                                                               |
| `slug`                 | string   | ❌ No    | Auto-generated | URL-safe identifier (unique per workspace)                                               |
| `description`          | string   | ❌ No    | `null`         | Human-readable description                                                               |
| `instructions`         | string   | ✅ Yes   | —              | System instructions for the agent (static)                                               |
| `instructionsTemplate` | string   | ❌ No    | `null`         | Template with `{{variable}}` placeholders resolved at runtime                            |
| `modelProvider`        | string   | ✅ Yes   | —              | `"openai"` or `"anthropic"`                                                              |
| `modelName`            | string   | ✅ Yes   | —              | Model identifier (e.g., `"gpt-4o"`, `"claude-sonnet-4-20250514"`)                        |
| `temperature`          | number   | ❌ No    | `0.7`          | Sampling temperature (0-2)                                                               |
| `maxTokens`            | number   | ❌ No    | `null`         | Maximum tokens in response (model default if null)                                       |
| `modelConfig`          | object   | ❌ No    | `null`         | Provider-specific options (toolChoice, parallelToolCalls, reasoningEffort, cacheControl) |
| `memoryEnabled`        | boolean  | ❌ No    | `false`        | Enable conversation memory                                                               |
| `memoryConfig`         | object   | ❌ No    | `null`         | Memory configuration (lastMessages, semanticRecall, workingMemory)                       |
| `maxSteps`             | number   | ❌ No    | `5`            | Maximum tool call rounds per turn                                                        |
| `tools`                | string[] | ❌ No    | `[]`           | Array of tool IDs to attach                                                              |
| `subAgents`            | string[] | ❌ No    | `[]`           | Agent slugs this agent can delegate to                                                   |
| `workflows`            | string[] | ❌ No    | `[]`           | Workflow IDs this agent can invoke                                                       |
| `scorers`              | string[] | ❌ No    | `[]`           | Evaluation scorer names to run after each turn                                           |
| `visibility`           | string   | ❌ No    | `"PRIVATE"`    | `"PRIVATE"` or `"PUBLIC"`                                                                |
| `metadata`             | object   | ❌ No    | `null`         | Custom JSON metadata                                                                     |
| `isActive`             | boolean  | ❌ No    | `true`         | Whether the agent is active and can receive requests                                     |

### Response format

Successful creation returns:

```json
{
    "success": true,
    "agent": {
        "id": "cm123abc456",
        "slug": "support-agent",
        "name": "Customer Support Agent",
        "description": "Handles customer inquiries and support tickets",
        "instructions": "You are a helpful customer support agent...",
        "modelProvider": "openai",
        "modelName": "gpt-4o",
        "temperature": 0.7,
        "maxTokens": 4096,
        "memoryEnabled": true,
        "memoryConfig": {
            "lastMessages": 20,
            "semanticRecall": { "topK": 5, "minScore": 0.7 }
        },
        "maxSteps": 10,
        "tools": [
            { "id": "...", "toolId": "web-fetch", "agentId": "cm123abc456" },
            { "id": "...", "toolId": "submit-support-ticket", "agentId": "cm123abc456" }
        ],
        "scorers": ["quality", "safety"],
        "visibility": "PRIVATE",
        "isActive": true,
        "createdAt": "2026-02-18T12:00:00.000Z",
        "updatedAt": "2026-02-18T12:00:00.000Z"
    }
}
```

## Create via UI

The workspace UI provides a guided form for creating agents:

1. **Navigate to Agents** — Click "Agents" in the sidebar, then "New Agent"
2. **Fill basic info** — Name, description, and instructions
3. **Select model** — Choose provider (OpenAI/Anthropic) and model name
4. **Configure settings** — Temperature, max tokens, memory, max steps
5. **Attach tools** — Select from available tools (built-ins, MCP servers, skills)
6. **Review and create** — Preview configuration, then click "Create Agent"

<Callout type="tip">
    The UI validates all fields in real-time and shows helpful error messages. Required fields are
    marked with an asterisk (*).
</Callout>

## Validation rules

The API enforces the following validation rules:

### Slug uniqueness

The `slug` must be unique within your workspace. If omitted, a slug is auto-generated from the `name`:

```bash
# Auto-generated slug: "customer-support-agent" from "Customer Support Agent"
curl -X POST https://agentc2.ai/agent/api/agents \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Customer Support Agent",
    "instructions": "...",
    "modelProvider": "openai",
    "modelName": "gpt-4o"
  }'
```

If a slug conflict occurs, the API returns:

```json
{
    "success": false,
    "error": "Agent with slug 'support-agent' already exists in this workspace"
}
```

### Model validation

The `modelProvider` and `modelName` must match an available model. The platform validates:

- Provider is one of: `"openai"`, `"anthropic"`, `"google"`, `"groq"`, `"mistral"`, `"xai"`, `"deepseek"`, `"togetherai"`, `"fireworks"`, `"openrouter"`, `"kimi"`
- Model name exists for the provider (fetched dynamically from provider APIs)
- Organization has an API key configured for the provider

Invalid model combinations return:

```json
{
    "success": false,
    "error": "Model 'gpt-5' not found for provider 'openai'. Available models: gpt-4o, gpt-4o-mini, ..."
}
```

### Field constraints

- `temperature`: Must be between 0 and 2 (inclusive)
- `maxTokens`: Must be a positive integer if provided
- `maxSteps`: Must be between 1 and 50 (default: 5)
- `tools`: Array of strings, each must reference an existing tool ID
- `scorers`: Array of strings, each must reference a registered scorer name

## Error codes

Common error responses:

| Status | Error Code                | Description                                                     | Solution                                                 |
| ------ | ------------------------- | --------------------------------------------------------------- | -------------------------------------------------------- |
| `400`  | `MISSING_REQUIRED_FIELDS` | Missing `name`, `instructions`, `modelProvider`, or `modelName` | Include all required fields                              |
| `400`  | `INVALID_MODEL`           | Model not found for provider                                    | Check available models via `/api/models?provider=openai` |
| `400`  | `INVALID_SLUG`            | Slug contains invalid characters                                | Use alphanumeric and hyphens only                        |
| `409`  | `SLUG_CONFLICT`           | Slug already exists in workspace                                | Use a different slug or update existing agent            |
| `401`  | `UNAUTHORIZED`            | Missing or invalid authentication token                         | Include `Authorization: Bearer $TOKEN` header            |
| `403`  | `FORBIDDEN`               | Insufficient permissions                                        | Ensure you have agent creation permissions               |
| `500`  | `INTERNAL_ERROR`          | Server error during creation                                    | Retry the request or contact support                     |

## Minimal example

Create an agent with only required fields:

```bash
curl -X POST https://agentc2.ai/agent/api/agents \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Simple Agent",
    "instructions": "You are a helpful assistant.",
    "modelProvider": "openai",
    "modelName": "gpt-4o-mini"
  }'
```

This creates an agent with:

- Auto-generated slug from name
- Default temperature (0.7)
- No memory (memoryEnabled: false)
- Default maxSteps (5)
- No tools attached
- Private visibility
- Active by default

## Next steps

After creating an agent:

- **[Configure the agent](/docs/agents/configuration)** — Adjust model settings, instructions, and advanced options
- **[Attach tools](/docs/agents/tools)** — Give your agent access to external services
- **[Enable memory](/docs/agents/memory)** — Set up conversation context and semantic recall
- **[Test the agent](/docs/agents/overview#test)** — Send messages via the chat API or workspace UI
