---
title: "Output Actions"
description: "Configure automatic and approval-gated downstream actions triggered by agent responses."
section: "agents"
order: 13
primaryKeyword: "AI agent output actions"
relatedSlugs: ["agents/guardrails", "workflows/human-in-the-loop"]
pageType: "concept"
---

# Output Actions

Output actions are downstream operations that execute automatically or with human approval when an agent produces a response. They enable agents to trigger webhooks, chain to other agents, send notifications, create tickets, and perform other integrations without requiring the agent to use tools during execution.

## What are Output Actions?

Output actions are post-execution hooks that run after an agent completes a turn. Unlike tools (which agents call during execution), output actions are configured on the agent and execute automatically based on the agent's response.

### Key Characteristics

- **Post-execution** — Execute after the agent completes its response
- **Configurable** — Defined per-agent, not hardcoded in instructions
- **Flexible approval** — Can require human approval before executing
- **Plumbing layer** — Handle infrastructure concerns (webhooks, chaining) while agents handle communication via MCP tools

<Callout type="info">
    Output actions handle **plumbing** (webhooks, agent chaining). Agents handle their own
    **communication** via MCP tools during execution (email, Slack, CRM updates, etc.).
</Callout>

## OutputAction Model

Output actions are stored in the database and associated with agents:

```typescript
interface OutputAction {
    id: string;
    agentId: string;
    name: string;
    type: OutputActionType; // "WEBHOOK" | "CHAIN_AGENT"
    configJson: object; // Type-specific configuration
    isActive: boolean;
    createdAt: Date;
    updatedAt: Date;
}
```

### Action Types

| Type          | Description                                         | Use Case                                           |
| ------------- | --------------------------------------------------- | -------------------------------------------------- |
| `WEBHOOK`     | Send HTTP POST request to external URL              | Integrate with external systems, trigger workflows |
| `CHAIN_AGENT` | Pass output to another agent for further processing | Multi-agent workflows, escalation, specialization  |

## Automatic Actions

Automatic actions execute immediately when an agent produces a response, without requiring approval:

### Webhook Action

Send agent responses to external systems via HTTP POST:

```bash
curl -X POST https://agentc2.ai/agent/api/agents/support-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Log to external system",
    "type": "WEBHOOK",
    "configJson": {
      "url": "https://api.example.com/webhooks/agent-responses",
      "headers": {
        "Authorization": "Bearer external-api-key",
        "Content-Type": "application/json"
      },
      "secret": "webhook-secret-for-signing"
    },
    "isActive": true
  }'
```

The webhook receives a POST request with this payload:

```json
{
    "runId": "run_abc123",
    "agentId": "cm_xyz789",
    "agentSlug": "support-agent",
    "input": "User's original message",
    "output": "Agent's response text",
    "timestamp": "2026-02-18T12:00:00.000Z",
    "metadata": {
        "threadId": "thread_123",
        "userId": "user_456"
    },
    "signature": "sha256=..."
}
```

<Callout type="tip">
    Webhook payloads include an HMAC signature in the `signature` header for verification. Use the
    `secret` from your config to verify requests.
</Callout>

### Chain Agent Action

Pass agent output to another agent for further processing:

```bash
curl -X POST https://agentc2.ai/agent/api/agents/support-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Escalate to senior agent",
    "type": "CHAIN_AGENT",
    "configJson": {
      "agentSlug": "senior-support-agent",
      "inputTemplate": "Escalated from support-agent:\n\nUser: {{input}}\n\nInitial Response: {{output}}\n\nPlease review and provide additional assistance."
    },
    "isActive": true
  }'
```

When the support agent responds, its output is automatically passed to the senior support agent using the configured template.

### Input Template Variables

Chain agent actions support template variables:

| Variable        | Description                 |
| --------------- | --------------------------- |
| `{{input}}`     | Original user input message |
| `{{output}}`    | Agent's response text       |
| `{{runId}}`     | Agent run ID                |
| `{{threadId}}`  | Conversation thread ID      |
| `{{agentSlug}}` | Source agent slug           |

## Approval-Gated Actions

Approval-gated actions require human confirmation before executing. This is useful for high-risk operations like creating tickets, sending emails, or making changes to external systems.

### Configuring Approval Gates

Approval-gated actions are configured with an `approvalRequired` flag:

```bash
curl -X POST https://agentc2.ai/agent/api/agents/support-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Create Jira ticket",
    "type": "WEBHOOK",
    "configJson": {
      "url": "https://your-org.atlassian.net/rest/api/3/issue",
      "headers": {
        "Authorization": "Basic ...",
        "Content-Type": "application/json"
      },
      "approvalRequired": true,
      "approvalTimeoutMinutes": 60,
      "approvalRouting": {
        "type": "user",
        "userId": "user_123"
      }
    },
    "isActive": true
  }'
```

### Approval Flow

1. **Agent completes** — Agent produces a response
2. **Action triggered** — Output action is queued for execution
3. **Approval requested** — System sends approval request to configured reviewer(s)
4. **Human reviews** — Reviewer sees agent response and action details
5. **Approval decision** — Reviewer approves or rejects
6. **Action executes** — If approved, action executes; if rejected or timeout, action is cancelled

### Approval Routing

Configure who receives approval requests:

```json
{
    "approvalRouting": {
        "type": "user",
        "userId": "user_123"
    }
}
```

Or route to a team:

```json
{
    "approvalRouting": {
        "type": "team",
        "teamId": "team_456"
    }
}
```

### Approval Timeout

Set a timeout for approval requests:

```json
{
    "approvalTimeoutMinutes": 60
}
```

If no response is received within the timeout period, the action is cancelled and marked as `TIMEOUT`.

## Configuring Actions on Agents

### List Actions

View all output actions for an agent:

```bash
curl https://agentc2.ai/agent/api/agents/support-agent/output-actions \
  -H "Authorization: Bearer $TOKEN"
```

Response:

```json
{
    "success": true,
    "actions": [
        {
            "id": "oa_abc123",
            "name": "Log to external system",
            "type": "WEBHOOK",
            "configJson": {
                "url": "https://api.example.com/webhooks/agent-responses"
            },
            "isActive": true,
            "createdAt": "2026-02-18T12:00:00.000Z"
        },
        {
            "id": "oa_def456",
            "name": "Escalate to senior agent",
            "type": "CHAIN_AGENT",
            "configJson": {
                "agentSlug": "senior-support-agent"
            },
            "isActive": true,
            "createdAt": "2026-02-18T12:01:00.000Z"
        }
    ]
}
```

### Update Action

Modify an existing action:

```bash
curl -X PATCH https://agentc2.ai/agent/api/agents/support-agent/output-actions/oa_abc123 \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "isActive": false
  }'
```

### Delete Action

Remove an action:

```bash
curl -X DELETE https://agentc2.ai/agent/api/agents/support-agent/output-actions/oa_abc123 \
  -H "Authorization: Bearer $TOKEN"
```

## Examples

### Auto-Create Jira Ticket

Automatically create a Jira ticket when an agent identifies a bug:

```bash
curl -X POST https://agentc2.ai/agent/api/agents/support-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Create bug ticket",
    "type": "WEBHOOK",
    "configJson": {
      "url": "https://your-org.atlassian.net/rest/api/3/issue",
      "method": "POST",
      "headers": {
        "Authorization": "Basic base64(username:api-token)",
        "Content-Type": "application/json"
      },
      "bodyTemplate": {
        "fields": {
          "project": { "key": "SUP" },
          "summary": "Bug reported via support agent",
          "description": "User report:\n{{input}}\n\nAgent response:\n{{output}}",
          "issuetype": { "name": "Bug" }
        }
      }
    },
    "isActive": true
  }'
```

### Send Email with Approval Gate

Send an email notification, but require approval first:

```bash
curl -X POST https://agentc2.ai/agent/api/agents/support-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Send escalation email",
    "type": "WEBHOOK",
    "configJson": {
      "url": "https://api.sendgrid.com/v3/mail/send",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer sendgrid-api-key",
        "Content-Type": "application/json"
      },
      "bodyTemplate": {
        "personalizations": [{
          "to": [{"email": "support-manager@example.com"}],
          "subject": "Escalation: Support ticket requires review"
        }],
        "from": {"email": "agent@example.com"},
        "content": [{
          "type": "text/plain",
          "value": "User query:\n{{input}}\n\nAgent response:\n{{output}}"
        }]
      },
      "approvalRequired": true,
      "approvalTimeoutMinutes": 30,
      "approvalRouting": {
        "type": "team",
        "teamId": "support-managers"
      }
    },
    "isActive": true
  }'
```

### Multi-Agent Workflow

Chain multiple agents together:

```bash
# Step 1: Research agent processes query
curl -X POST https://agentc2.ai/agent/api/agents/research-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Pass to writer agent",
    "type": "CHAIN_AGENT",
    "configJson": {
      "agentSlug": "writer-agent",
      "inputTemplate": "Research findings:\n{{output}}\n\nPlease write a blog post based on these findings."
    },
    "isActive": true
  }'

# Step 2: Writer agent produces content
curl -X POST https://agentc2.ai/agent/api/agents/writer-agent/output-actions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Send to editor",
    "type": "CHAIN_AGENT",
    "configJson": {
      "agentSlug": "editor-agent",
      "inputTemplate": "Draft content:\n{{output}}\n\nPlease review and suggest improvements."
    },
    "isActive": true
  }'
```

## Testing Actions

Test output actions before enabling them:

```bash
curl -X POST https://agentc2.ai/agent/api/agents/support-agent/output-actions/oa_abc123/test \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "input": "Test user message",
    "output": "Test agent response"
  }'
```

The test executes the action with sample data and returns the result:

```json
{
    "success": true,
    "result": {
        "statusCode": 200,
        "body": "{\"id\": \"issue-123\"}",
        "headers": {}
    }
}
```

## Execution Flow

Output actions execute asynchronously via Inngest after agent runs complete:

1. **Agent run completes** — Agent produces response, run is finalized
2. **Actions queued** — All active output actions for the agent are queued
3. **Action execution** — Each action executes independently:
    - **Automatic actions** — Execute immediately
    - **Approval-gated actions** — Wait for approval, then execute
4. **Results logged** — Execution results are stored for debugging and monitoring

### Error Handling

Output actions never throw errors that affect the agent response. If an action fails:

- Error is logged with full details
- Action is marked as `FAILED`
- Agent response is still returned to the user
- Retry logic can be configured per-action type

## Monitoring Action Execution

View action execution history:

```bash
# List recent action executions
curl "https://agentc2.ai/agent/api/agents/support-agent/runs?limit=10" \
  -H "Authorization: Bearer $TOKEN"
```

Each run includes output action execution details in metadata:

```json
{
    "id": "run_abc123",
    "output": "Agent response text",
    "metadata": {
        "outputActions": [
            {
                "actionId": "oa_abc123",
                "status": "completed",
                "executedAt": "2026-02-18T12:00:05.000Z"
            }
        ]
    }
}
```

## Best Practices

1. **Use for plumbing, not communication** — Output actions handle infrastructure (webhooks, chaining). Agents handle communication via MCP tools (email, Slack, CRM).
2. **Require approval for high-risk actions** — Use approval gates for operations that modify external systems or send sensitive information
3. **Test before enabling** — Use the test endpoint to verify action configuration
4. **Monitor execution** — Review action execution logs to identify failures and optimize
5. **Use templates for flexibility** — Leverage input templates to customize action payloads based on agent output
6. **Set appropriate timeouts** — Configure approval timeouts based on your team's response time expectations

<Callout type="warning">
    Output actions execute asynchronously and don't block agent responses. If you need synchronous
    execution or need to use action results in the agent response, use tools instead of output
    actions.
</Callout>

## Related Topics

- **[Guardrails](/docs/agents/guardrails)** — Configure input/output policies to ensure safe agent behavior
- **[Human-in-the-Loop Workflows](/docs/workflows/human-in-the-loop)** — Learn about approval workflows and human review processes
- **[Agent Chaining](/docs/agents/chaining)** — Understand how to chain agents together for complex workflows
