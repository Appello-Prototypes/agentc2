---
title: "Skill Version Control"
description: "Track changes to skills with version snapshots, compare versions, and roll back to previous configurations."
section: "skills"
order: 5
primaryKeyword: "skill version control"
secondaryKeywords: ["skill versions", "version history", "rollback", "change tracking"]
relatedSlugs: ["skills/overview", "skills/creating-skills", "skills/api-reference"]
pageType: "how-to"
---

# Skill Version Control

Skill version control enables you to track changes, compare versions, and roll back to previous configurations. Every skill maintains a version history in the `SkillVersion` table, allowing you to safely experiment and revert changes.

## How versioning works

When you create or update a skill:

1. **Current version** — The `Skill` model's `version` field tracks the current version number (starts at 1)
2. **Version snapshots** — Each change creates a `SkillVersion` record with a complete snapshot
3. **Immutable history** — Version records are immutable (cannot be modified after creation)
4. **Rollback support** — Restore any previous version by updating the skill with version data

## Creating versions

Create a version snapshot before making changes:

```bash
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "changeSummary": "Added email template examples and improved formatting guidelines"
  }'
```

### Automatic versioning

Versions are automatically created when:

- **Skill creation** — Initial version (v1) is created automatically
- **Skill update** — New version created if `createVersion: true` is set
- **Manual creation** — Explicit version creation via API

### Version snapshot contents

Each `SkillVersion` record contains:

| Field           | Type     | Description                              |
| --------------- | -------- | ---------------------------------------- |
| `id`            | string   | Unique version record ID                 |
| `skillId`       | string   | Reference to the skill                   |
| `version`       | number   | Version number (1, 2, 3, ...)            |
| `instructions`  | string   | Snapshot of instructions at this version |
| `configJson`    | JSON     | Snapshot of tools, documents, metadata   |
| `changeSummary` | string   | Human-readable description of changes    |
| `createdAt`     | DateTime | When this version was created            |
| `createdBy`     | string   | User ID who created the version          |

### Example version record

```json
{
    "id": "sv_abc123",
    "skillId": "skill_email_drafting",
    "version": 3,
    "instructions": "When drafting emails:\n\n1. Use clear subject lines...",
    "configJson": {
        "tools": ["send-email", "search-contacts"],
        "documents": ["doc_email_templates"],
        "category": "communication",
        "tags": ["email", "drafting"]
    },
    "changeSummary": "Added email template examples and improved formatting guidelines",
    "createdAt": "2026-02-18T12:00:00.000Z",
    "createdBy": "user_xyz789"
}
```

## Listing versions

List all versions for a skill:

```bash
curl https://agentc2.ai/agent/api/skills/email-drafting/versions \
  -H "Authorization: Bearer $TOKEN"
```

### Response format

```json
{
    "success": true,
    "versions": [
        {
            "id": "sv_abc123",
            "version": 3,
            "changeSummary": "Added email template examples",
            "createdAt": "2026-02-18T12:00:00.000Z",
            "createdBy": "user_xyz789"
        },
        {
            "id": "sv_def456",
            "version": 2,
            "changeSummary": "Added search-contacts tool",
            "createdAt": "2026-02-15T10:00:00.000Z",
            "createdBy": "user_xyz789"
        },
        {
            "id": "sv_ghi789",
            "version": 1,
            "changeSummary": "Initial version",
            "createdAt": "2026-02-10T08:00:00.000Z",
            "createdBy": "user_xyz789"
        }
    ]
}
```

## Comparing versions

Compare two versions to see what changed:

```bash
curl "https://agentc2.ai/agent/api/skills/email-drafting/versions/compare?from=2&to=3" \
  -H "Authorization: Bearer $TOKEN"
```

### Comparison response

```json
{
    "success": true,
    "fromVersion": 2,
    "toVersion": 3,
    "changes": {
        "instructions": {
            "added": "Added email template examples section",
            "removed": null,
            "modified": "Updated formatting guidelines"
        },
        "tools": {
            "added": [],
            "removed": [],
            "modified": []
        },
        "documents": {
            "added": ["doc_email_templates"],
            "removed": [],
            "modified": []
        },
        "metadata": {
            "added": { "difficulty": "beginner" },
            "removed": null,
            "modified": null
        }
    }
}
```

## Rolling back

Restore a previous version by updating the skill with version data:

```bash
# Step 1: Get version data
curl https://agentc2.ai/agent/api/skills/email-drafting/versions/2 \
  -H "Authorization: Bearer $TOKEN"

# Step 2: Update skill with version data
curl -X PUT https://agentc2.ai/agent/api/skills/email-drafting \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "instructions": "[instructions from version 2]",
    "tools": ["[tools from version 2]"],
    "createVersion": true,
    "changeSummary": "Rolled back to version 2"
  }'
```

### Automated rollback endpoint

Some implementations provide a dedicated rollback endpoint:

```bash
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions/2/restore \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "changeSummary": "Rolled back to version 2 due to formatting issues"
  }'
```

## Version best practices

### 1. Create versions before major changes

Always create a version snapshot before making significant changes:

```bash
# Before major update
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "changeSummary": "Pre-update snapshot before refactoring instructions"
  }'

# Make changes
curl -X PUT https://agentc2.ai/agent/api/skills/email-drafting \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "instructions": "[new instructions]"
  }'
```

### 2. Use descriptive change summaries

Write clear change summaries that explain what changed and why:

```json
{
    "changeSummary": "Added email template examples and improved formatting guidelines based on user feedback"
}
```

**Good summaries:**

- "Added email template examples based on user feedback"
- "Removed deprecated send-email-v1 tool, replaced with send-email-v2"
- "Updated instructions to match new API requirements"

**Poor summaries:**

- "Updated"
- "Changes"
- "Fixed"

### 3. Version frequently

Create versions for:

- **Major changes** — Significant instruction updates, tool additions/removals
- **Before experiments** — Before trying new approaches
- **Production releases** — Before deploying to production
- **Integration updates** — When auto-generated skills are refreshed

### 4. Compare before rolling back

Always compare versions before rolling back to understand what will change:

```bash
# Compare current (v3) with target (v2)
curl "https://agentc2.ai/agent/api/skills/email-drafting/versions/compare?from=2&to=3" \
  -H "Authorization: Bearer $TOKEN"

# Review changes, then roll back if needed
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions/2/restore \
  -H "Authorization: Bearer $TOKEN"
```

## Version limits

Skills maintain version history with these limits:

- **No automatic deletion** — Versions are never automatically deleted
- **Manual cleanup** — Admins can delete old versions if needed (with caution)
- **Storage consideration** — Each version stores a full snapshot (instructions + config)

<Callout type="warning">
    Deleting versions is irreversible. Only delete versions if you're certain they're no longer
    needed.
</Callout>

## Version promotion

Promote a version to production by updating the skill's current version:

```bash
# Promote version 5 to current
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions/5/promote \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "changeSummary": "Promoted version 5 to production after successful testing"
  }'
```

Promotion:

1. Updates the skill's `version` field to the promoted version number
2. Creates a new version record documenting the promotion
3. Makes the promoted version the active version for all agents

## Example: Version workflow

Complete version workflow example:

```bash
# Step 1: Create initial skill
curl -X POST https://agentc2.ai/agent/api/skills \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "slug": "email-drafting",
    "name": "Email Drafting",
    "instructions": "Draft professional emails..."
  }'
# Creates version 1 automatically

# Step 2: Add tool and create version
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/tools \
  -H "Authorization: Bearer $TOKEN" \
  -d '{ "toolId": "send-email" }'

curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions \
  -H "Authorization: Bearer $TOKEN" \
  -d '{ "changeSummary": "Added send-email tool" }'
# Creates version 2

# Step 3: Update instructions
curl -X PUT https://agentc2.ai/agent/api/skills/email-drafting \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "instructions": "Updated instructions...",
    "createVersion": true,
    "changeSummary": "Improved formatting guidelines"
  }'
# Creates version 3

# Step 4: Compare versions
curl "https://agentc2.ai/agent/api/skills/email-drafting/versions/compare?from=2&to=3" \
  -H "Authorization: Bearer $TOKEN"

# Step 5: Roll back if needed
curl -X POST https://agentc2.ai/agent/api/skills/email-drafting/versions/2/restore \
  -H "Authorization: Bearer $TOKEN" \
  -d '{ "changeSummary": "Rolled back due to formatting issues" }'
```

## Next steps

- **[Skills Overview](/docs/skills/overview)** — Understand the skill system architecture
- **[Creating Skills](/docs/skills/creating-skills)** — Learn how to create and update skills
- **[Skills API Reference](/docs/skills/api-reference)** — Complete API documentation for version endpoints
