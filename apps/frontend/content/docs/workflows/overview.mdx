---
title: "Workflows Overview"
description: "Workflows are deterministic multi-step processes that orchestrate agents, tools, and logic to automate complex tasks."
section: "workflows"
order: 1
primaryKeyword: "AI workflow orchestration"
secondaryKeywords:
    [
        "workflow automation",
        "multi-step processes",
        "deterministic workflows",
        "workflow orchestration"
    ]
relatedSlugs:
    [
        "workflows/creating-workflows",
        "workflows/step-types",
        "workflows/control-flow",
        "agents/overview"
    ]
pageType: "concept"
---

# Workflows Overview

Workflows are deterministic multi-step processes that orchestrate agents, tools, and logic to automate complex tasks. Unlike agents (which use LLMs for conversational, non-deterministic behavior), workflows execute predefined steps in a controlled sequence, making them ideal for repeatable automation, data processing, and multi-step business processes.

## What are workflows?

A workflow in AgentC2 is a database-driven process definition that:

- **Executes steps sequentially** — Steps run in a defined order with input/output passing between them
- **Orchestrates agents and tools** — Invokes agents for LLM reasoning, executes tools for external actions
- **Supports control flow** — Branching, parallel execution, loops, and conditional logic
- **Handles errors** — Retry policies, error handling, and rollback capabilities
- **Enables human-in-the-loop** — Approval gates, suspend/resume, and human decision points

Workflows are stored in PostgreSQL and executed via the workflow engine, providing full observability, version control, and production-ready automation.

<Callout type="info">
    **Workflows vs Agents vs Networks**: Use **workflows** for deterministic, step-by-step
    automation. Use **agents** for conversational, LLM-driven tasks. Use **networks** to orchestrate
    multiple agents and workflows together in complex topologies.
</Callout>

## When to use workflows

Workflows excel at tasks that require:

- **Deterministic execution** — Repeatable processes with predictable outcomes
- **Multi-step orchestration** — Complex processes requiring multiple agents, tools, or external systems
- **Error handling** — Robust retry logic, error recovery, and rollback capabilities
- **Human approval** — Processes requiring human review or decision points
- **Data transformation** — ETL pipelines, data processing, and format conversions
- **Scheduled automation** — Recurring tasks (cron-based or event-driven)

### Example use cases

| Use Case                  | Workflow Steps                                                                      | Why Workflow?                                   |
| ------------------------- | ----------------------------------------------------------------------------------- | ----------------------------------------------- |
| **Support Ticket Triage** | 1. Analyze ticket → 2. Route to agent → 3. Create CRM record → 4. Send notification | Deterministic routing logic, multi-step process |
| **Content Publishing**    | 1. Generate draft → 2. Human approval → 3. Format → 4. Publish → 5. Notify          | Human-in-the-loop, sequential steps             |
| **Data Sync**             | 1. Fetch from API → 2. Transform → 3. Validate → 4. Write to DB → 5. Log            | Deterministic ETL pipeline                      |
| **Report Generation**     | 1. Query data → 2. Aggregate → 3. Format → 4. Export → 5. Email                     | Multi-step data processing                      |

## Workflow lifecycle

Every workflow follows a predictable lifecycle from creation to production execution:

### 1. Create

Define the workflow structure:

```bash
curl -X POST https://agentc2.ai/agent/api/workflows \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Support Ticket Triage",
    "slug": "support-triage",
    "description": "Automatically triage and route support tickets",
    "definitionJson": {
      "steps": [
        {
          "id": "analyze",
          "type": "agent",
          "name": "Analyze Ticket",
          "config": { "agentSlug": "triage-agent" }
        },
        {
          "id": "route",
          "type": "branch",
          "config": {
            "condition": "{{analyze.priority}} === 'high'",
            "branches": [
              { "condition": "high", "steps": [{ "type": "tool", "config": { "toolId": "escalate-ticket" } }] },
              { "condition": "default", "steps": [{ "type": "agent", "config": { "agentSlug": "support-agent" } }] }
            ]
          }
        }
      ]
    },
    "inputSchemaJson": {
      "type": "object",
      "properties": {
        "ticketId": { "type": "string" },
        "customerEmail": { "type": "string" }
      }
    }
  }'
```

### 2. Test

Execute the workflow with test data:

```bash
curl -X POST https://agentc2.ai/agent/api/workflows/support-triage/execute \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "input": {
      "ticketId": "TKT-123",
      "customerEmail": "customer@example.com"
    }
  }'
```

### 3. Version

Create snapshots before making changes:

```bash
curl -X POST https://agentc2.ai/agent/api/workflows/support-triage/versions \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "description": "Initial production version"
  }'
```

### 4. Publish

Mark the workflow as published for production use:

```bash
curl -X PUT https://agentc2.ai/agent/api/workflows/support-triage \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "isPublished": true
  }'
```

### 5. Execute

Run the workflow via API, schedules, triggers, or networks:

```bash
curl -X POST https://agentc2.ai/agent/api/workflows/support-triage/execute \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "input": { "ticketId": "TKT-456", "customerEmail": "user@example.com" }
  }'
```

## Workflow model fields

The `Workflow` model in PostgreSQL contains these fields:

| Field              | Type     | Required | Description                                     |
| ------------------ | -------- | -------- | ----------------------------------------------- |
| `id`               | string   | ✅ Yes   | Unique CUID identifier                          |
| `slug`             | string   | ✅ Yes   | URL-safe identifier (unique)                    |
| `name`             | string   | ✅ Yes   | Display name for the workflow                   |
| `description`      | string   | ❌ No    | Human-readable description                      |
| `definitionJson`   | JSON     | ✅ Yes   | Workflow definition (steps, edges, viewport)    |
| `compiledJson`     | JSON     | ❌ No    | Compiled representation (cached)                |
| `compiledAt`       | DateTime | ❌ No    | When workflow was last compiled                 |
| `compiledHash`     | string   | ❌ No    | Hash of definition for cache invalidation       |
| `inputSchemaJson`  | JSON     | ❌ No    | Input schema (JSON Schema format)               |
| `outputSchemaJson` | JSON     | ❌ No    | Output schema (JSON Schema format)              |
| `maxSteps`         | number   | ✅ Yes   | Maximum steps allowed (default: 50)             |
| `timeout`          | number   | ❌ No    | Maximum execution time in seconds               |
| `retryConfig`      | JSON     | ❌ No    | Retry configuration (`{ maxRetries, backoff }`) |
| `isPublished`      | boolean  | ✅ Yes   | Whether workflow is published (default: false)  |
| `isActive`         | boolean  | ✅ Yes   | Whether workflow is active (default: true)      |
| `version`          | number   | ✅ Yes   | Current version number (starts at 1)            |
| `workspaceId`      | string   | ❌ No    | Workspace isolation (null for SYSTEM workflows) |
| `type`             | string   | ✅ Yes   | `"USER"` or `"SYSTEM"`                          |
| `createdAt`        | DateTime | ✅ Yes   | Creation timestamp                              |
| `updatedAt`        | DateTime | ✅ Yes   | Last update timestamp                           |
| `createdBy`        | string   | ❌ No    | User ID who created the workflow                |

### Relations

Workflows have several relations:

- **`versions`** — `WorkflowVersion[]` — Version history snapshots
- **`runs`** — `WorkflowRun[]` — Execution records
- **`networkPrimitives`** — `NetworkPrimitive[]` — Networks that use this workflow
- **`testCases`** — `WorkflowTestCase[]` — Test cases for validation

## Simple example

Create a minimal workflow that processes data:

```bash
# Step 1: Create the workflow
curl -X POST https://agentc2.ai/agent/api/workflows \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Data Processor",
    "slug": "data-processor",
    "definitionJson": {
      "steps": [
        {
          "id": "fetch",
          "type": "tool",
          "name": "Fetch Data",
          "config": { "toolId": "fetch-api-data" }
        },
        {
          "id": "transform",
          "type": "transform",
          "name": "Transform Data",
          "config": {
            "transform": "{{fetch.result | map: { id: .id, name: .name | upper } }}"
          }
        },
        {
          "id": "save",
          "type": "tool",
          "name": "Save to Database",
          "config": { "toolId": "save-to-db" }
        }
      ]
    },
    "inputSchemaJson": {
      "type": "object",
      "properties": {
        "apiUrl": { "type": "string" }
      }
    }
  }'

# Step 2: Execute the workflow
curl -X POST https://agentc2.ai/agent/api/workflows/data-processor/execute \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "input": {
      "apiUrl": "https://api.example.com/data"
    }
  }'
```

The workflow executes:

1. **Fetch Data** — Calls `fetch-api-data` tool with `apiUrl`
2. **Transform Data** — Transforms the result using a template expression
3. **Save to Database** — Calls `save-to-db` tool with transformed data

## Key capabilities

Workflows support a comprehensive set of features for production automation:

| Capability               | Description                                                               | Example Use Case                   |
| ------------------------ | ------------------------------------------------------------------------- | ---------------------------------- |
| **Step Types**           | Agent, tool, workflow, branch, parallel, foreach, human, transform, delay | Multi-step orchestration           |
| **Control Flow**         | Sequential, branching, parallel execution, loops                          | Complex business logic             |
| **Human-in-the-Loop**    | Approval gates, suspend/resume, timeout policies                          | Content review, approval workflows |
| **Error Handling**       | Retry policies, error recovery, rollback                                  | Resilient automation               |
| **Version Control**      | Version snapshots, rollback, change tracking                              | Safe experimentation               |
| **Input/Output Schemas** | Type-safe input/output validation                                         | API contract enforcement           |
| **Observability**        | Full execution traces, step-by-step debugging                             | Debugging and compliance           |
| **Scheduling**           | Cron-based and event-driven triggers                                      | Recurring automation               |
| **Networks**             | Compose workflows with agents and other workflows                         | Complex topologies                 |

<Callout type="tip">
    All workflow capabilities are configured via the API or workspace UI. No code deployments
    required — changes take effect immediately for all execution channels (API, schedules, triggers,
    networks).
</Callout>

## Workflow types

Workflows can be one of two types:

- **USER** — Created by users, stored in your workspace, fully customizable
- **SYSTEM** — Platform-provided workflows (e.g., built-in automation), protected from deletion

Most workflows you create are **USER** type. They're isolated to your workspace and organization, ensuring data privacy and multi-tenant security.

## Next steps

- **[Creating Workflows](/docs/workflows/creating-workflows)** — Learn how to create workflows via API or UI
- **[Step Types](/docs/workflows/step-types)** — Understand available step types (agent, tool, branch, etc.)
- **[Control Flow](/docs/workflows/control-flow)** — Learn about sequential, branching, and parallel execution
- **[Human in the Loop](/docs/workflows/human-in-the-loop)** — Set up approval gates and suspend/resume
- **[Workflows API Reference](/docs/workflows/api-reference)** — Complete API documentation
