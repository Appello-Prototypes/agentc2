---
title: "Slack Integration"
description: "Complete Slack integration setup: create app, configure permissions, enable events, install to workspace, and route agents."
section: "channels"
order: 2
primaryKeyword: "Slack integration"
relatedSlugs: ["channels/overview", "channels/whatsapp", "channels/telegram"]
secondaryKeywords: ["Slack bot", "Slack app", "Slack webhook", "Slack events", "agent routing"]
pageType: "how-to"
ctaLabel: "Launch AgentC2 Workspace"
ctaHref: "/workspace"
---

# Slack Integration

AgentC2 integrates with Slack to enable AI agents in Slack workspaces. Users can @mention bots, send direct messages, and interact with agents directly from Slack channels and DMs.

## Prerequisites

Before setting up Slack integration, ensure you have:

- A Slack workspace where you can install apps
- Admin permissions (or approval from workspace admin)
- An AgentC2 account with at least one agent created
- A public URL for webhooks (use ngrok for local development)

## Step 1: Create a Slack App

1. **Navigate to Slack API**: Go to https://api.slack.com/apps
2. **Create New App**: Click "Create New App" > "From scratch"
3. **Configure App**:
    - **App Name**: Choose a name (e.g., "AgentC2 Assistant")
    - **Workspace**: Select your workspace
    - Click "Create App"

## Step 2: Configure Bot Permissions

1. **Navigate to OAuth & Permissions**: In the left sidebar, click "OAuth & Permissions"
2. **Add Bot Token Scopes**: Scroll to "Scopes" > "Bot Token Scopes" and add:

| Scope                  | Purpose                                  |
| ---------------------- | ---------------------------------------- |
| `app_mentions:read`    | Receive @mentions in channels            |
| `chat:write`           | Send messages                            |
| `chat:write.customize` | Post with custom username/icon per agent |
| `im:history`           | Read DM history                          |
| `im:read`              | Access DM metadata                       |
| `im:write`             | Send direct messages                     |
| `channels:history`     | Read channel messages (for @mentions)    |
| `channels:read`        | Access channel metadata                  |
| `reactions:read`       | Read reactions (for feedback)            |
| `reactions:write`      | Add reactions (thinking indicator)       |

3. **Save Changes**: Click "Save Changes" at the bottom

<Callout type="tip">
    The `chat:write.customize` scope enables per-agent display names and icons. Without it, all
    agents appear with the same bot identity.
</Callout>

## Step 3: Enable Event Subscriptions

1. **Navigate to Event Subscriptions**: In the left sidebar, click "Event Subscriptions"
2. **Enable Events**: Toggle "Enable Events" to ON
3. **Set Request URL**: Enter your webhook URL:
    ```
    https://your-domain.com/agent/api/slack/events
    ```
    For local development with ngrok:
    ```
    https://your-subdomain.ngrok-free.dev/agent/api/slack/events
    ```
4. **Verify URL**: Slack will send a verification request. AgentC2 automatically handles verification.
5. **Subscribe to Bot Events**: Scroll to "Subscribe to bot events" and add:

| Event              | Purpose                                  |
| ------------------ | ---------------------------------------- |
| `app_mention`      | When bot is @mentioned in a channel      |
| `message.im`       | Direct messages to bot                   |
| `message.channels` | Messages in channels (if bot is member)  |
| `reaction_added`   | Reactions on bot messages (for feedback) |

6. **Save Changes**: Click "Save Changes"

## Step 4: Install App to Workspace

1. **Navigate to Install App**: In the left sidebar, click "Install App"
2. **Install to Workspace**: Click "Install to Workspace"
3. **Authorize**: Review permissions and click "Allow"
4. **Copy Bot Token**: After installation, copy the "Bot User OAuth Token" (starts with `xoxb-`)

## Step 5: Configure Environment Variables

Add Slack credentials to your `.env` file:

```bash
# Slack Bot Token (from Install App page)
SLACK_BOT_TOKEN="xoxb-1234567890-1234567890123-abcdefghijklmnopqrstuvwx"

# Slack Signing Secret (from Basic Information > App Credentials)
SLACK_SIGNING_SECRET="abcdef1234567890abcdef1234567890"

# Slack OAuth (for multi-workspace support)
SLACK_CLIENT_ID="1234567890.1234567890123"
SLACK_CLIENT_SECRET="abcdef1234567890abcdef1234567890"

# Default agent for Slack (optional)
SLACK_DEFAULT_AGENT_SLUG="assistant"
```

<Callout type="warning">
    Keep your `SLACK_SIGNING_SECRET` secure. It's used to verify webhook requests from Slack. Never
    commit it to version control.
</Callout>

## Step 6: Test Integration

1. **Add Bot to Channel**: Invite your bot to a channel:
    ```
    /invite @AgentC2 Assistant
    ```
2. **Send Test Message**: @mention the bot:
    ```
    @AgentC2 Assistant What is quantum computing?
    ```
3. **Verify Response**: The bot should respond in a thread

## Agent routing

Slack supports routing to different agents using the `agent:` prefix:

### Basic routing

```
@Bot agent:research What are the latest AI developments?
```

The message is routed to the `research` agent instead of the default agent.

### List available agents

```
@Bot agent:list
```

Returns a list of all available agents with their slugs.

### Help command

```
@Bot help
```

Shows available commands and agent routing syntax.

### Default agent

If no `agent:` prefix is provided, the default agent (configured via `SLACK_DEFAULT_AGENT_SLUG`) handles the request:

```
@Bot What time is it?
```

Routes to the default agent.

## Per-agent display identity

Each agent can have a custom Slack display name and icon. Configure this in the agent's `metadata` field:

```bash
curl -X PATCH https://agentc2.ai/agent/api/agents/research-agent \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "metadata": {
      "slack": {
        "displayName": "Research Agent",
        "iconEmoji": ":microscope:"
      }
    }
  }'
```

When the `research-agent` responds in Slack, it appears with:

- **Display Name**: "Research Agent" (instead of the bot's default name)
- **Icon**: :microscope: emoji (instead of the bot's default icon)

If no `slack` metadata is set, the agent's `name` field is used as the display name.

## Conversation memory

Slack conversations maintain memory per thread:

- **Thread-based**: Each Slack thread maintains its own conversation context
- **Cross-thread**: Different threads don't share context (by design)
- **DM context**: Direct messages maintain context across the conversation
- **Semantic recall**: Agents can recall relevant past messages in the thread

### Memory configuration

Configure memory per agent:

```bash
curl -X PATCH https://agentc2.ai/agent/api/agents/research-agent \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "memoryEnabled": true,
    "memoryConfig": {
      "lastMessages": 20,
      "semanticRecall": {
        "topK": 3,
        "minScore": 0.7
      }
    }
  }'
```

## Thread auto-reply

Slack integration supports thread auto-reply: when a user replies in a thread, the bot automatically responds without requiring an @mention:

```
User: @Bot What is quantum computing?
Bot: [Responds in thread]
User: Can you explain superposition?
Bot: [Automatically responds in thread - no @mention needed]
```

This works for:

- **Thread replies**: Replies to bot messages in threads
- **DM conversations**: Follow-up messages in DMs

## Thinking indicator

While processing, the bot adds a :eyes: reaction to the user's message. When the response is ready, the reaction is removed:

```
User: @Bot Research quantum computing
Bot: [Adds :eyes: reaction]
Bot: [Removes reaction, posts response]
```

## Reaction feedback

Users can provide feedback via reactions:

- **:thumbsup:** — Creates a positive feedback record
- **:thumbsdown:** — Creates a negative feedback record

Feedback is stored in the database and can be used for:

- Agent evaluation and scoring
- Quality monitoring
- Continuous improvement

## Webhook endpoint

The Slack webhook endpoint is:

```
POST /agent/api/slack/events
```

### Health check

Check integration status:

```bash
curl https://agentc2.ai/agent/api/slack/events \
  -H "Authorization: Bearer $TOKEN"
```

Returns:

```json
{
  "status": "Slack integration active",
  "configuration": {
    "signingSecretConfigured": true,
    "oauthConfigured": true,
    "legacyBotTokenConfigured": true
  },
  "setup": {
    "step1": "Create a Slack App at https://api.slack.com/apps",
    "step2": "Enable Event Subscriptions and set Request URL to this endpoint",
    "step3": "Subscribe to bot events: app_mention, message.im, message.channels, reaction_added",
    "step4": "Install app to workspace and copy Bot Token",
    "step5": "Add SLACK_SIGNING_SECRET and SLACK_BOT_TOKEN to .env",
    "requiredScopes": [...],
    "features": [...]
  }
}
```

## Multi-workspace support

AgentC2 supports multiple Slack workspaces via OAuth:

1. **Configure OAuth**: Set `SLACK_CLIENT_ID` and `SLACK_CLIENT_SECRET`
2. **Initiate OAuth**: Users connect their workspace via `/api/slack/connect`
3. **Store tokens**: Bot tokens are stored per workspace in `IntegrationConnection`
4. **Route requests**: Requests are routed to the correct workspace's bot token

<Callout type="info">
    Multi-workspace support requires OAuth configuration. Single-workspace setups can use
    `SLACK_BOT_TOKEN` directly.
</Callout>

## Troubleshooting

### Bot not responding

1. **Check webhook URL**: Verify the Request URL in Event Subscriptions matches your endpoint
2. **Verify signing secret**: Ensure `SLACK_SIGNING_SECRET` matches the app's signing secret
3. **Check bot token**: Verify `SLACK_BOT_TOKEN` is valid and not expired
4. **Review logs**: Check AgentC2 logs for webhook processing errors

### Bot not receiving events

1. **Verify event subscriptions**: Ensure events are subscribed in Event Subscriptions
2. **Check bot membership**: Bot must be a member of channels to receive `message.channels` events
3. **Review permissions**: Ensure bot has required scopes (especially `channels:history`)

### Agent routing not working

1. **Check agent slug**: Verify the agent slug exists: `curl /agent/api/agents/{slug}`
2. **Verify default agent**: Check `SLACK_DEFAULT_AGENT_SLUG` is set correctly
3. **Test routing**: Try `@Bot agent:list` to see available agents

## Next steps

- **[Channels Overview](/docs/channels/overview)** — Learn about other supported channels
- **[WhatsApp Integration](/docs/channels/whatsapp)** — Set up WhatsApp Business API
- **[Telegram Integration](/docs/channels/telegram)** — Configure Telegram bot
