---
title: "Web Embed"
description: "Embed AgentC2 chat widget in your website: iframe/script tag setup, customization, token controls, rate limiting, and abuse prevention."
section: "channels"
order: 6
primaryKeyword: "web embed"
relatedSlugs: ["channels/overview", "channels/slack", "channels/voice"]
secondaryKeywords: ["chat widget", "iframe embed", "script tag", "web integration", "embed token"]
pageType: "how-to"
ctaLabel: "Launch AgentC2 Workspace"
ctaHref: "/workspace"
---

# Web Embed

AgentC2 provides a chat widget that can be embedded in any website via iframe or script tag. The embed supports customization, token-based authentication, rate limiting, and abuse prevention.

## Prerequisites

Before embedding the chat widget, ensure you have:

- An AgentC2 account with at least one agent created
- A public website where you can embed the widget
- (Optional) An embed token for authentication

## Embed methods

### Method 1: Iframe embed

Embed the chat widget using an iframe:

```html
<iframe
    src="https://agentc2.ai/embed/chat?agent=assistant&token=your-token"
    width="400"
    height="600"
    frameborder="0"
    allow="microphone"
></iframe>
```

### Method 2: Script tag

Embed using the JavaScript SDK:

```html
<script src="https://agentc2.ai/embed/sdk.js"></script>
<script>
    AgentC2.init({
        agent: "assistant",
        token: "your-token",
        container: "#chat-container"
    });
</script>
<div id="chat-container"></div>
```

## Generate embed token

Create an embed token for authentication:

```bash
curl -X POST https://agentc2.ai/agent/api/embed/tokens \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "agentSlug": "assistant",
    "expiresIn": 86400,
    "rateLimit": 100,
    "metadata": {
      "website": "example.com"
    }
  }'
```

### Response

```json
{
    "success": true,
    "token": "embed_token_abc123",
    "expiresAt": "2026-02-19T12:00:00.000Z",
    "rateLimit": 100
}
```

## Configuration options

### Basic configuration

```javascript
AgentC2.init({
    agent: "assistant", // Agent slug
    token: "your-token", // Embed token (optional)
    container: "#chat-container", // Container selector
    theme: "light", // 'light' or 'dark'
    position: "bottom-right", // Widget position
    width: 400, // Widget width (px)
    height: 600 // Widget height (px)
});
```

### Advanced configuration

```javascript
AgentC2.init({
    agent: "assistant",
    token: "your-token",
    container: "#chat-container",

    // Customization
    theme: {
        primaryColor: "#007bff",
        backgroundColor: "#ffffff",
        textColor: "#333333"
    },

    // Behavior
    autoOpen: false, // Don't auto-open on load
    showHeader: true, // Show chat header
    showInput: true, // Show input field
    placeholder: "Type a message...",

    // Memory
    threadId: "user-123", // Conversation thread ID

    // Events
    onMessage: (message) => {
        console.log("Message received:", message);
    },
    onError: (error) => {
        console.error("Error:", error);
    }
});
```

## Customization

### Theme customization

```javascript
AgentC2.init({
    theme: {
        primaryColor: "#007bff", // Primary button color
        backgroundColor: "#ffffff", // Background color
        textColor: "#333333", // Text color
        borderColor: "#e0e0e0", // Border color
        borderRadius: "8px", // Border radius
        fontFamily: "Arial, sans-serif"
    }
});
```

### Position customization

```javascript
// Bottom right (default)
AgentC2.init({ position: "bottom-right" });

// Bottom left
AgentC2.init({ position: "bottom-left" });

// Top right
AgentC2.init({ position: "top-right" });

// Top left
AgentC2.init({ position: "top-left" });

// Custom position
AgentC2.init({
    position: { top: "100px", right: "20px" }
});
```

## Token controls

Embed tokens provide access control:

### Token scopes

```bash
curl -X POST https://agentc2.ai/agent/api/embed/tokens \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "agentSlug": "assistant",
    "scopes": ["chat", "memory"],
    "rateLimit": 100,
    "expiresIn": 86400
  }'
```

### Token validation

Tokens are validated on every request:

- **Expiration**: Expired tokens are rejected
- **Rate limiting**: Tokens enforce rate limits
- **Scope checking**: Tokens checked against allowed scopes

## Rate limiting

Embed endpoints are rate-limited to prevent abuse:

### Per-token rate limits

```bash
# Create token with rate limit
curl -X POST https://agentc2.ai/agent/api/embed/tokens \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "agentSlug": "assistant",
    "rateLimit": 100  // 100 requests per hour
  }'
```

### Rate limit headers

Responses include rate limit headers:

```
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1642608000
```

### Handling rate limits

```javascript
AgentC2.init({
    onRateLimit: (limit) => {
        console.log("Rate limit exceeded:", limit);
        // Show user-friendly message
        alert("Too many requests. Please try again later.");
    }
});
```

## Abuse prevention

Embed includes multiple abuse prevention mechanisms:

### IP-based rate limiting

- **Per-IP limits**: 60 requests per minute per IP
- **IP blocking**: Blocked IPs rejected immediately
- **IP whitelist**: Whitelisted IPs bypass rate limits

### Token-based rate limiting

- **Per-token limits**: Configurable per token
- **Token revocation**: Revoke tokens to block access
- **Token expiration**: Tokens expire automatically

### Content filtering

- **Input validation**: Validate input before processing
- **Content moderation**: Filter harmful content
- **Spam detection**: Detect and block spam messages

### Configuration

```bash
curl -X POST https://agentc2.ai/agent/api/embed/tokens \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "agentSlug": "assistant",
    "rateLimit": 100,
    "ipWhitelist": ["192.168.1.1"],
    "contentFiltering": true
  }'
```

## CORS configuration

Embed endpoints support CORS for cross-origin requests:

### Allowed origins

```bash
# Configure allowed origins in environment
EMBED_ALLOWED_ORIGINS="https://example.com,https://www.example.com"
```

### CORS headers

Responses include CORS headers:

```
Access-Control-Allow-Origin: https://example.com
Access-Control-Allow-Methods: GET, POST, OPTIONS
Access-Control-Allow-Headers: Authorization, Content-Type
```

## Conversation memory

Embed conversations maintain memory:

- **Thread-based**: Each thread maintains its own context
- **Token-based**: Threads tied to embed token
- **Cross-session**: Memory persists across page reloads

### Thread management

```javascript
// Create new thread
const threadId = AgentC2.createThread();

// Use existing thread
AgentC2.init({
    threadId: "thread-123"
});

// Get thread history
const history = await AgentC2.getThreadHistory("thread-123");
```

## Streaming responses

Embed supports streaming responses for real-time UX:

```javascript
AgentC2.init({
    streaming: true,
    onStream: (chunk) => {
        // Update UI with streaming chunk
        console.log("Stream chunk:", chunk);
    }
});
```

## Error handling

Handle errors gracefully:

```javascript
AgentC2.init({
    onError: (error) => {
        console.error("Chat error:", error);

        // Show user-friendly error
        if (error.code === "RATE_LIMIT_EXCEEDED") {
            alert("Too many requests. Please try again later.");
        } else if (error.code === "TOKEN_EXPIRED") {
            alert("Session expired. Please refresh the page.");
        } else {
            alert("An error occurred. Please try again.");
        }
    }
});
```

## Complete example

Full embed setup:

```html
<!DOCTYPE html>
<html>
    <head>
        <title>AgentC2 Chat Widget</title>
        <script src="https://agentc2.ai/embed/sdk.js"></script>
    </head>
    <body>
        <div id="chat-container"></div>

        <script>
            AgentC2.init({
                agent: "assistant",
                token: "your-embed-token",
                container: "#chat-container",
                theme: "light",
                position: "bottom-right",
                width: 400,
                height: 600,
                autoOpen: false,
                streaming: true,
                onMessage: (message) => {
                    console.log("Message:", message);
                },
                onError: (error) => {
                    console.error("Error:", error);
                }
            });
        </script>
    </body>
</html>
```

## Troubleshooting

### Widget not loading

1. **Check script URL**: Verify SDK URL is correct
2. **Check container**: Ensure container element exists
3. **Review console**: Check browser console for errors

### Token errors

1. **Verify token**: Ensure token is valid and not expired
2. **Check scopes**: Verify token has required scopes
3. **Review rate limits**: Check if rate limit exceeded

### CORS errors

1. **Check origins**: Verify domain is in allowed origins
2. **Review headers**: Check CORS headers in response
3. **Test locally**: Test with localhost first

## Next steps

- **[Channels Overview](/docs/channels/overview)** — Learn about other supported channels
- **[Voice Agents](/docs/channels/voice)** — Configure voice agents
- **[Agents Overview](/docs/agents/overview)** — Learn about agent capabilities
