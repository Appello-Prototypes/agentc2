# ==============================
# Database Configuration
# ==============================

# PostgreSQL Database URL (Supabase or Digital Ocean Managed PostgreSQL)
DATABASE_URL="postgresql://user:password@host:5432/database"

# SSL Configuration (set to true for cloud databases)
# Automatically enabled for Supabase connections
DATABASE_SSL="true"

# Supabase Configuration (optional - if using Supabase features)
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your_supabase_anon_key"

# ==============================
# Authentication
# ==============================

# Application URL
# - Development with Caddy: https://catalyst.localhost
# - Development without Caddy: http://localhost:3000
# - Production: https://your-domain.com
NEXT_PUBLIC_APP_URL="https://catalyst.localhost"

# Better Auth secret (generate with: openssl rand -base64 32)
BETTER_AUTH_SECRET="generate-a-secure-random-secret"

# Credential encryption key (generate with: openssl rand -hex 32)
CREDENTIAL_ENCRYPTION_KEY="your_credential_encryption_key"

# Google OAuth (SSO)
# Add redirect URIs in Google Cloud Console:
# - http://localhost:3001/api/auth/callback/google (local)
# - https://your-domain.com/api/auth/callback/google (prod)
GOOGLE_CLIENT_ID="your_google_client_id"
GOOGLE_CLIENT_SECRET="your_google_client_secret"

# ==============================
# Deployment Mode
# ==============================

# Set to "true" when running behind a reverse proxy (Caddy/nginx)
# This enables basePath="/agent" for the agent app
BEHIND_PROXY="true"

# Set to "true" to allow demo pages without authentication
# Use for standalone deployments without a proxy
STANDALONE_DEMO="false"

# Node environment
NODE_ENV="development"

# ==============================
# AI Provider Keys
# ==============================

OPENAI_API_KEY="sk-your_openai_api_key"
ANTHROPIC_API_KEY="sk-ant-your_anthropic_api_key"

# ==============================
# Voice Providers (ElevenLabs)
# ==============================

ELEVENLABS_API_KEY="your_elevenlabs_api_key"
ELEVENLABS_AGENT_ID="your_elevenlabs_agent_id"
ELEVENLABS_WEBHOOK_SECRET="your_webhook_secret"
ELEVENLABS_MCP_WEBHOOK_URL="https://your-domain.com/agent/api/demos/live-agent-mcp/tools"

# Default agent for ElevenLabs voice interactions
ELEVENLABS_DEFAULT_AGENT_SLUG="mcp-agent"

# ==============================
# MCP Server Integrations
# ==============================

# MCP API Key - Used by external MCP clients (like Cursor) to authenticate
# Generate with: openssl rand -hex 32
MCP_API_KEY="your_mcp_api_key"
# Organization slug for MCP API key authentication
MCP_API_ORGANIZATION_SLUG="your-organization-slug"

# Firecrawl - Web scraping
FIRECRAWL_API_KEY="fc-your_firecrawl_api_key"

# HubSpot CRM
HUBSPOT_ACCESS_TOKEN="pat-na1-your_hubspot_access_token"

# Jira - Project management
JIRA_URL="https://your-org.atlassian.net"
JIRA_USERNAME="email@example.com"
JIRA_API_TOKEN="your_jira_api_token"
JIRA_PROJECTS_FILTER="PROJECT_KEY"

# JustCall - Phone/SMS
JUSTCALL_AUTH_TOKEN="api_key:api_secret"

# Fathom - Meeting recordings and transcripts
FATHOM_API_KEY="your_fathom_api_key"

# ATLAS - n8n workflow automation
ATLAS_N8N_SSE_URL="https://your-n8n.app.n8n.cloud/mcp/.../sse"

# GitHub - Repository management
# Create a personal access token at https://github.com/settings/tokens
# Required scopes: repo, read:org, read:user
GITHUB_PERSONAL_ACCESS_TOKEN="ghp_your_github_pat"

# Google Drive - File storage and search
# Path to OAuth credentials JSON file (Desktop app type)
# Setup: https://console.cloud.google.com/apis/credentials
GDRIVE_CREDENTIALS_PATH="./credentials/gdrive-oauth.json"

# ==============================
# Background Jobs (Inngest)
# ==============================

# Get these from https://app.inngest.com/env/production/manage/signing-key
INNGEST_EVENT_KEY="your_inngest_event_key"
INNGEST_SIGNING_KEY="your_inngest_signing_key"

# ==============================
# Slack Integration
# ==============================

# Slack App Configuration (https://api.slack.com/apps)
SLACK_BOT_TOKEN="xoxb-your-bot-token"
SLACK_SIGNING_SECRET="your-signing-secret"
SLACK_DEFAULT_AGENT_SLUG="assistant"

# Slack Team ID (for MCP server) - starts with T, find at https://api.slack.com/apps
SLACK_TEAM_ID="T0123456789"

# ==============================
# ngrok Configuration (Local Development)
# ==============================

# For stable webhook URLs during local development
NGROK_AUTHTOKEN="your_ngrok_authtoken"
NGROK_DOMAIN="your-domain.ngrok-free.dev"

# ==============================
# Feature Flags
# ==============================

# Enable database-driven agents (vs code-defined)
FEATURE_DB_AGENTS="true"

# ==============================
# Caddy (Local Development)
# ==============================

CADDY_ADMIN_API="http://localhost:2019"

# ==============================
# Channel Integrations (Optional)
# ==============================

# WhatsApp Integration (via Baileys/WhatsApp Web)
WHATSAPP_ENABLED="false"
WHATSAPP_DEFAULT_AGENT_SLUG="mcp-agent"
WHATSAPP_ALLOWLIST="+15551234567,+15559876543"
WHATSAPP_SESSION_PATH="./.whatsapp-session"

# Telegram Integration (via grammy/Telegram Bot API)
TELEGRAM_ENABLED="false"
TELEGRAM_BOT_TOKEN="your_telegram_bot_token"
TELEGRAM_DEFAULT_AGENT_SLUG="mcp-agent"
TELEGRAM_USE_WEBHOOK="false"
TELEGRAM_WEBHOOK_URL=""

# Twilio Voice Integration
TWILIO_ENABLED="false"
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="your_twilio_auth_token"
TWILIO_PHONE_NUMBER="+15551234567"
VOICE_DEFAULT_AGENT_SLUG="mcp-agent"
VOICE_TTS_PROVIDER="elevenlabs"
VOICE_WEBHOOK_URL=""
VOICE_STREAM_WS_URL="wss://your-domain/voice/stream"
VOICE_STREAM_PORT="3002"
VOICE_STREAM_PATH="/voice/stream"
VOICE_STREAM_AUTH_TOKEN=""
VOICE_ELEVENLABS_INPUT_SAMPLE_RATE="16000"
VOICE_STREAM_MAX_PENDING_CHUNKS="5"
TWILIO_MCP_API_URL="http://localhost:3001"

# ==============================
# Digital Ocean Deployment
# ==============================

# These are used by the deploy script and GitHub Actions
# DO_HOST="your-droplet-ip"
# DO_USER="deploy"
